{"ast":null,"code":"var _jsxFileName = \"/Users/neel/Documents/Tax calculator/taxcalc/crypto-tax-calculator/src/components/UploadTransactions.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Box, Button, Typography, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, IconButton, TextField } from \"@mui/material\";\nimport { Edit } from \"@mui/icons-material\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as XLSX from \"xlsx\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UploadTransactions = () => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [buyPrice, setBuyPrice] = useState(null);\n  const navigate = useNavigate();\n  const handleFileUpload = (e, type) => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = event => {\n      var _event$target;\n      const binaryStr = (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.result;\n      const workbook = XLSX.read(binaryStr, {\n        type: \"binary\"\n      });\n      const sheetName = workbook.SheetNames[0];\n      const sheetData = XLSX.utils.sheet_to_json(workbook.Sheets[sheetName]);\n      if (type === \"spot\") {\n        const parsedTransactions = sheetData.map((row, index) => ({\n          id: index + 1,\n          coin: row[\"Market\"] || `Coin ${index + 1}`,\n          type: row[\"type\"],\n          price: parseFloat(row[\"Price\"]),\n          amount: parseFloat(row[\"Amount\"]),\n          total: parseFloat(row[\"Total\"]),\n          fee: parseFloat(row[\"Fee\"]),\n          profit: null\n        }));\n        setTransactions(parsedTransactions);\n      } else {\n        alert(\"Futures file processing is not implemented yet.\");\n      }\n    };\n    reader.readAsBinaryString(file);\n  };\n  const calculateProfit = () => {\n    const updatedTransactions = transactions.map(txn => {\n      if (txn.type.toLowerCase() === \"sell\") {\n        const correspondingBuyTxn = transactions.find(t => t.coin === txn.coin && t.type.toLowerCase() === \"buy\");\n        if (correspondingBuyTxn) {\n          return {\n            ...txn,\n            profit: txn.total - correspondingBuyTxn.total - txn.fee\n          };\n        }\n        if (buyPrice !== null) {\n          return {\n            ...txn,\n            profit: txn.total - buyPrice - txn.fee\n          };\n        }\n      }\n      return txn;\n    });\n    setTransactions(updatedTransactions);\n  };\n  const editTransaction = id => {\n    setSelectedTransaction(id);\n  };\n  const updateTransaction = () => {\n    if (selectedTransaction !== null && buyPrice !== null) {\n      const updatedTransactions = transactions.map(txn => txn.id === selectedTransaction ? {\n        ...txn,\n        profit: txn.total - buyPrice - txn.fee\n      } : txn);\n      setTransactions(updatedTransactions);\n      setSelectedTransaction(null);\n      setBuyPrice(null);\n    }\n  };\n  const calculateTax = () => {\n    const totalProfit = transactions.reduce((sum, txn) => sum + (txn.profit || 0), 0);\n    const taxLiability = totalProfit * 0.3; // 30% flat tax\n    alert(`Total Tax Payable: ₹${taxLiability.toFixed(2)}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      padding: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      color: \"secondary\",\n      onClick: () => navigate(\"/\"),\n      sx: {\n        mb: 2\n      },\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: \"Upload Transactions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        component: \"label\",\n        color: \"primary\",\n        sx: {\n          mr: 2\n        },\n        children: [\"Upload Spot Transaction File\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          hidden: true,\n          accept: \".xlsx, .xls\",\n          onChange: e => handleFileUpload(e, \"spot\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        component: \"label\",\n        color: \"primary\",\n        children: [\"Upload Futures Transaction File\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          hidden: true,\n          accept: \".xlsx, .xls\",\n          onChange: e => handleFileUpload(e, \"futures\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), transactions.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        sx: {\n          mt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Coin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Fee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Profit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: transactions.map(txn => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.coin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.fee\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: txn.profit !== null ? txn.profit.toFixed(2) : \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: () => editTransaction(txn.id),\n                  color: \"primary\",\n                  children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this)]\n            }, txn.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), selectedTransaction !== null && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Buy Price\",\n          type: \"number\",\n          fullWidth: true,\n          value: buyPrice || \"\",\n          onChange: e => setBuyPrice(Number(e.target.value)),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: updateTransaction,\n          children: \"Update Transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: calculateProfit,\n        sx: {\n          mt: 3,\n          mr: 2\n        },\n        children: \"Calculate Profit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: calculateTax,\n        sx: {\n          mt: 3\n        },\n        children: \"Calculate Tax\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadTransactions, \"oj+njkP8aZ3YpEyB5L/W6GPEHA0=\", false, function () {\n  return [useNavigate];\n});\n_c = UploadTransactions;\nexport default UploadTransactions;\nvar _c;\n$RefreshReg$(_c, \"UploadTransactions\");","map":{"version":3,"names":["React","useState","Box","Button","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","IconButton","TextField","Edit","useNavigate","XLSX","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadTransactions","_s","transactions","setTransactions","selectedTransaction","setSelectedTransaction","buyPrice","setBuyPrice","navigate","handleFileUpload","e","type","_e$target$files","file","target","files","reader","FileReader","onload","event","_event$target","binaryStr","result","workbook","read","sheetName","SheetNames","sheetData","utils","sheet_to_json","Sheets","parsedTransactions","map","row","index","id","coin","price","parseFloat","amount","total","fee","profit","alert","readAsBinaryString","calculateProfit","updatedTransactions","txn","toLowerCase","correspondingBuyTxn","find","t","editTransaction","updateTransaction","calculateTax","totalProfit","reduce","sum","taxLiability","toFixed","sx","padding","children","variant","color","onClick","mb","fileName","_jsxFileName","lineNumber","columnNumber","gutterBottom","component","mr","hidden","accept","onChange","length","mt","label","fullWidth","value","Number","_c","$RefreshReg$"],"sources":["/Users/neel/Documents/Tax calculator/taxcalc/crypto-tax-calculator/src/components/UploadTransactions.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  IconButton,\n  TextField,\n} from \"@mui/material\";\nimport { Edit } from \"@mui/icons-material\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as XLSX from \"xlsx\";\n\ninterface Transaction {\n  id: number;\n  coin: string;\n  type: string;\n  price: number;\n  amount: number;\n  total: number;\n  fee: number;\n  profit: number | null;\n}\n\nconst UploadTransactions: React.FC = () => {\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [selectedTransaction, setSelectedTransaction] = useState<number | null>(null);\n  const [buyPrice, setBuyPrice] = useState<number | null>(null);\n  const navigate = useNavigate();\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>, type: \"spot\" | \"futures\") => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      const binaryStr = event.target?.result;\n      const workbook = XLSX.read(binaryStr, { type: \"binary\" });\n      const sheetName = workbook.SheetNames[0];\n      const sheetData = XLSX.utils.sheet_to_json(workbook.Sheets[sheetName]);\n\n      if (type === \"spot\") {\n        const parsedTransactions: Transaction[] = (sheetData as any[]).map((row, index) => ({\n          id: index + 1,\n          coin: row[\"Market\"] || `Coin ${index + 1}`,\n          type: row[\"type\"],\n          price: parseFloat(row[\"Price\"]),\n          amount: parseFloat(row[\"Amount\"]),\n          total: parseFloat(row[\"Total\"]),\n          fee: parseFloat(row[\"Fee\"]),\n          profit: null,\n        }));\n\n        setTransactions(parsedTransactions);\n      } else {\n        alert(\"Futures file processing is not implemented yet.\");\n      }\n    };\n    reader.readAsBinaryString(file);\n  };\n\n  const calculateProfit = () => {\n    const updatedTransactions = transactions.map((txn) => {\n      if (txn.type.toLowerCase() === \"sell\") {\n        const correspondingBuyTxn = transactions.find(\n          (t) => t.coin === txn.coin && t.type.toLowerCase() === \"buy\"\n        );\n\n        if (correspondingBuyTxn) {\n          return {\n            ...txn,\n            profit: txn.total - correspondingBuyTxn.total - txn.fee,\n          };\n        }\n\n        if (buyPrice !== null) {\n          return {\n            ...txn,\n            profit: txn.total - buyPrice - txn.fee,\n          };\n        }\n      }\n      return txn;\n    });\n\n    setTransactions(updatedTransactions);\n  };\n\n  const editTransaction = (id: number) => {\n    setSelectedTransaction(id);\n  };\n\n  const updateTransaction = () => {\n    if (selectedTransaction !== null && buyPrice !== null) {\n      const updatedTransactions = transactions.map((txn) =>\n        txn.id === selectedTransaction\n          ? { ...txn, profit: txn.total - buyPrice - txn.fee }\n          : txn\n      );\n      setTransactions(updatedTransactions);\n      setSelectedTransaction(null);\n      setBuyPrice(null);\n    }\n  };\n\n  const calculateTax = () => {\n    const totalProfit = transactions.reduce((sum, txn) => sum + (txn.profit || 0), 0);\n    const taxLiability = totalProfit * 0.3; // 30% flat tax\n    alert(`Total Tax Payable: ₹${taxLiability.toFixed(2)}`);\n  };\n\n  return (\n    <Box sx={{ padding: 3 }}>\n      <Button\n        variant=\"outlined\"\n        color=\"secondary\"\n        onClick={() => navigate(\"/\")}\n        sx={{ mb: 2 }}\n      >\n        Back\n      </Button>\n      <Typography variant=\"h5\" gutterBottom>\n        Upload Transactions\n      </Typography>\n      <Box sx={{ mb: 2 }}>\n        <Button\n          variant=\"contained\"\n          component=\"label\"\n          color=\"primary\"\n          sx={{ mr: 2 }}\n        >\n          Upload Spot Transaction File\n          <input\n            type=\"file\"\n            hidden\n            accept=\".xlsx, .xls\"\n            onChange={(e) => handleFileUpload(e, \"spot\")}\n          />\n        </Button>\n        <Button\n          variant=\"contained\"\n          component=\"label\"\n          color=\"primary\"\n        >\n          Upload Futures Transaction File\n          <input\n            type=\"file\"\n            hidden\n            accept=\".xlsx, .xls\"\n            onChange={(e) => handleFileUpload(e, \"futures\")}\n          />\n        </Button>\n      </Box>\n\n      {transactions.length > 0 && (\n        <>\n          <TableContainer component={Paper} sx={{ mt: 3 }}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>ID</TableCell>\n                  <TableCell>Coin</TableCell>\n                  <TableCell>Type</TableCell>\n                  <TableCell>Price</TableCell>\n                  <TableCell>Amount</TableCell>\n                  <TableCell>Total</TableCell>\n                  <TableCell>Fee</TableCell>\n                  <TableCell>Profit</TableCell>\n                  <TableCell>Actions</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {transactions.map((txn) => (\n                  <TableRow key={txn.id}>\n                    <TableCell>{txn.id}</TableCell>\n                    <TableCell>{txn.coin}</TableCell>\n                    <TableCell>{txn.type}</TableCell>\n                    <TableCell>{txn.price}</TableCell>\n                    <TableCell>{txn.amount}</TableCell>\n                    <TableCell>{txn.total}</TableCell>\n                    <TableCell>{txn.fee}</TableCell>\n                    <TableCell>{txn.profit !== null ? txn.profit.toFixed(2) : \"N/A\"}</TableCell>\n                    <TableCell>\n                      <IconButton onClick={() => editTransaction(txn.id)} color=\"primary\">\n                        <Edit />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          {selectedTransaction !== null && (\n            <Box sx={{ mt: 3 }}>\n              <TextField\n                label=\"Buy Price\"\n                type=\"number\"\n                fullWidth\n                value={buyPrice || \"\"}\n                onChange={(e) => setBuyPrice(Number(e.target.value))}\n                sx={{ mb: 2 }}\n              />\n              <Button variant=\"contained\" onClick={updateTransaction}>\n                Update Transaction\n              </Button>\n            </Box>\n          )}\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={calculateProfit}\n            sx={{ mt: 3, mr: 2 }}\n          >\n            Calculate Profit\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={calculateTax}\n            sx={{ mt: 3 }}\n          >\n            Calculate Tax\n          </Button>\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default UploadTransactions;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}